git-vcs(1)
============

NAME
----
git-vcs - Helper programs for interoperation with foreign systems

SYNOPSIS
--------
'git vcs-<system>' <remote>

DESCRIPTION
-----------

These programs are normally not used directly by end users, but are
invoked by various git programs that interact with remote repositories
when the repository they would operate on uses a foreign system.

Each 'git vcs-<system>' is a helper for interoperating with a
particular version control system. Different helpers have different
capabilities (limited both by the particular helper and by the
capabilities of the system they connect to), and they report what
capabilities they support.

These programs can store refs in refs/<system>/*, note refs in
refs/notes/<system>/*, and arbitrary information in info/<system>/*.

COMMANDS
--------

Commands are given by the caller on the helper's standard input, one per line.
The output of each command must be produced on the helper's standard output.
The helper's standard error stream can be used for status/progress messages.

'capabilities'::
	Outputs a list of feature names, one per line. Each of these
	indicates a supported feature of the helper, and the caller
	will only attempt operations that are supported.
	The output list shall be terminated with a blank line.

'list'::
	Outputs the names of refs, one per line. These may be
	followed, after a single space, by "changed" or "unchanged",
	indicating whether the foreign repository has changed from the
	state in the ref. If the helper doesn't know, it doesn't have
	to provide a value. (In particular, it shouldn't do expensive
	operations, such as importing the content, to see whether it
	matches.) Other information, not yet supported, may be output
	as well, separated by single spaces.
	The output list shall be terminated with a blank line.

'import' ref::
	Imports the given ref by outputting it in git-fast-import
	format.

'export' commit ref::
	Sends the given commit to the foreign system, with the
	location given by ref, and reimports it by outputting it in
	git-fast-import format as the foreign system rendered it.
+
All parents of commit must either have been created with 'import' or
have been passed to 'export' previously. Depending on the features,
there may be other restrictions on what may be exported.

FEATURES
--------

'marks' filename::
	Helper requires the marks from a git-fast-import run to be loaded
	from, and saved to, the given filename. When this "feature" is
	advertised, each git-fast-import run must load and save the
	internal marks database (see the --import-marks and --export-marks
	option to git-fast-import for more details) located at the given
	filename.

'export'::
	Helper supports exporting commits, at least exporting
	non-merge commits whose parents are not the parents of any
	other commit exported to the same branch or make in the other
	system on the same branch.

'export-branch'::
	Helper supports creating new branches by exporting commits to
	them.

'export-merges'::
	Helper supports exporting two-parent merges, where both
	parents have already been exported successfully.
